const bel = require('bel')
const csjs = require('csjs-inject')
// Widgets
const Graphic = require('Graphic')

function Team(person, className, theme) {
    let css = Object.assign({}, styles, theme)
    let lifeIsland = Graphic(css.lifeIsland,'./src/node_modules/assets/svg/life-island.svg')
    let el = bel`
                <div class=${className}>
                    <div class=${css.member}>
                        <img class=${css.avatar} src=${person.avatar} alt=${person.name}>
                        <div class=${css.info}>
                            <h3 class=${css.name}>${person.name}</h3>
                            ${person.careers &&  
                                person.careers.map( career => 
                                    bel`<span class=${css.career}>${career}</span>` 
                                )
                            }
                        </div>
                    </div>
                    ${lifeIsland}
                </div>
            `
    return el
}

const styles = csjs`
.member {
    position: absolute;
    z-index: 1;
    display: grid;
    grid-template: 1fr / 40% 60%;
    width: 70%; 
    top: 20%;
}
.avatar {
    position: relative;
    z-index: 2;
}
.info {
    display: flex;
    flex-direction: column;
    justify-content: center;
    font-size: var(--teamTextSize);
    text-align: center;
    background-color: var(--teamBg);
    padding: 0% 2% 4% 20%;
    margin-left: -20%;
}
.name {
    color: var(--section5TitleColor);
    margin-top: 0;
    margin-bottom: 3%;
}
.career {
    display: block;
    color: var(--teamcareerColor);
}
.lifeIsland {
    width: 100%;
}
@media only screen and (max-width: 1550px) {
    .member {
        width: 280px;
        top: 15%;
        left: -2vw;
    }
}
@media only screen and (max-width: 1200px) {
    .lifeIsland {
        width: 115%;
    }
}
@media only screen and (max-width: 1280px) {
    .member {
        top: 12%;
        left: -4vw;
    }
}

@media only screen and (max-width: 1130px) { 
    .member {
        top: 1vw;
        left: -6vw;
    }
}
@media only screen and (max-width: 1024px) {
    .lifeIsland {
        width: 100%;
    }
    .member {
        width: 32vw;
        top: 6vw;
        left: -2vw;
    }
}
@media only screen and (max-width: 768px) {
    .member {
        width: 85%;
        top: 5vw;
        left: -4vw;
    }
}
@media only screen and (max-width: 640px) {
    .member {
        width: 75%;
        top: 9vw;
    }
}
@media only screen and (max-width: 414px) {
    .member {
        width: 90%;
        top: 5vw;
        left: -10vw;
    }
}
`

module.exports = Team