const bel = require('bel')
const csjs = require('csjs-inject')
// plugins
const zenscroll = require('zenscroll')

function Topnav(data) {

    function click(url) {
        let id = document.querySelector(`#${url}`)
        zenscroll.to(id, 20000)
    }
    
    return bel`
            <div class=${css.topNav}>
                <nav class=${css.menu}>
                    ${ data.map( menu =>  
                        { 
                            if (menu.url.includes('http')) {
                                return bel`<a href="${menu.url}" target="_blank">${menu.text}</a>` 
                            } else {
                                return bel`<a href="#${menu.url}" onclick=${() => click(menu.url)}>${menu.text}</a>` 
                            }
                            
                        }
                    )}
                </nav>
            </div>
    `
}

let css = csjs`
.topNav {
    display: grid;
    grid-template: 1fr / auto;
}
.menu {
    padding-top: 4.5rem;
    padding-right: 1.5%;
    text-align: right;
}
.menu a {
    font-size: var(--menuSize);
    margin-left: 1.75%;
    color: #575551;
    text-transform: uppercase;
    transition: color .6s linear;
}
.menu a:hover {
    color: #00acff;
}
@media only screen and (min-width: 4096px) {
    .menu a {
        font-size: calc(var(--menuSize) * 1.5);
    }
}
@media only screen and (max-width: 960px) {
    .menu {
        padding-top: 3%;
        padding-right: 2.5vw;
    }
    .menu a {
        margin-left: 1.5%;
    }
}
@media only screen and (max-width: 812px) {
    .topNav {
        display: none;
    }
}
`

module.exports = Topnav