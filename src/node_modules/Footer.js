const bel = require('bel')
const csjs = require('csjs-inject')
// widgets
const Graphic = require('Graphic')

function Footer(footer) {
    const css = styles

    let el = bel`
    <footer class=${css.footer}>
        <p class=${css.copyright}>${footer.copyright}</p>
        <nav id="contacts" class=${css.contacts}>
            ${footer.icons.map(icon => 
                bel`
                <a href=${icon.url} 
                   title=${icon.name} 
                   target="${icon.url.includes('http') ? "_blank" : null}"
                >${Graphic(css.icon, icon.imgURL)}</a>`
            )}
        </nav>
    </footer>
    `
    return el
}

let styles = csjs`
.footer {
    display: grid;
    grid-template-rows: 3rem;
    grid-template-columns: 25% auto 25%;
    color: white;
    padding-top: 4vw;
    padding-bottom: 0.5%;
    background-color: var(--footerBg);
}
.copyright {
    grid-column-start: 2;
    text-align: center;
    align-self: center;
}
.contacts {
    grid-column-start: 3;
    display: flex;
    justify-content: center;
    align-items: center;
}
.icon {
    width: 23px;
    margin-left: 3.5rem;
}
@media only screen and (max-width: 1024px) {
    .icon {
        margin-left: 2.5rem;
    }
}
@media only screen and (max-width: 960px) {
    .footer {
        grid-template-columns: 20% auto 32%;
    }
    .icon {
        margin-left: 2.5rem;
    }
}
@media only screen and (max-width: 640px) {
    .footer {
        grid-template-columns: auto;
        grid-template-rows: auto 8vh;
    }
    .copyright {
        grid-row-start: 2; 
        grid-column-start: 1;
        font-size: 1.2rem;
    }
    .contacts {
        grid-row-start: 1;
        grid-column-start: 1;
    }
    .icon {
        margin-left: 2vw;
        margin-right: 2vw;
    }
}
`

module.exports = Footer